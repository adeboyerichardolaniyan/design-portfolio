---
import Base from "@/layouts/Base.astro";
import BackLink from "@/components/BackLink.astro";
import ScrollReveal from "@/components/ScrollReveal.astro";
import fs from "node:fs";
import path from "node:path";

const resumeDir = path.join(process.cwd(), "public/docs/resume");
const resumeFiles = fs.existsSync(resumeDir)
  ? fs.readdirSync(resumeDir).filter((f) => f.endsWith(".pdf"))
  : [];
const resumeHref = resumeFiles.length > 0 ? `/docs/resume/${resumeFiles[0]}` : null;
---

<Base title="About — Portfolio" description="About me">
  <BackLink href="/" label="Home" />
  <section class="mx-auto max-w-[var(--content-max-width)] px-[var(--content-padding)] pt-[var(--space-lg)] pb-[var(--space-xl)]">
    <div class="grid grid-cols-1 gap-[var(--space-lg)] lg:grid-cols-[1fr_2fr]">
      <!-- Left column -->
      <ScrollReveal>
        <div>
          <h1 class="text-[var(--font-size-heading)] font-[var(--font-weight-bold)] leading-[var(--line-height-tight)] text-[var(--color-text-primary)]">
            About
          </h1>
        </div>
      </ScrollReveal>

      <!-- Right column -->
      <div class="flex flex-col gap-[var(--space-md)]">
        <ScrollReveal delay={0.05}>
          <p class="text-[var(--font-size-hero)] font-[var(--font-weight-bold)] leading-[var(--line-height-tight)] text-[var(--color-text-primary)]">
            A designer focused on building thoughtful, well-crafted digital products.
          </p>
        </ScrollReveal>

        <ScrollReveal delay={0.1}>
          <p class="text-[var(--font-size-body)] leading-[var(--line-height-body)] text-[var(--color-text-secondary)]">
            With experience spanning product design, design systems, and creative
            tooling, I work at the intersection of design and engineering. I care
            deeply about the details — typography, spacing, motion, and the small
            interactions that make software feel alive.
          </p>
        </ScrollReveal>

        <ScrollReveal delay={0.15}>
          <p class="text-[var(--font-size-body)] leading-[var(--line-height-body)] text-[var(--color-text-secondary)]">
            Previously, I've worked with teams at startups and larger companies,
            helping ship products used by millions. I'm currently focused on
            exploring AI-powered creative tools and immersive interfaces.
          </p>
        </ScrollReveal>

        <!-- Contact -->
        <ScrollReveal delay={0.2}>
          <div class="mt-[var(--space-md)] border-t border-[var(--color-border-custom)] pt-[var(--space-md)]">
            <p class="text-[var(--font-size-caption)] text-[var(--color-text-tertiary)]">
              Get in touch
            </p>
            <div class="mt-[var(--space-sm)] flex flex-col gap-[var(--space-xs)]">
              <a
                href="mailto:hello@example.com"
                class="text-[var(--color-text-primary)] underline underline-offset-2 transition-colors duration-[var(--duration-fast)] hover:text-[var(--color-text-secondary)]"
              >
                hello@example.com
              </a>
            </div>
          </div>
        </ScrollReveal>

        <!-- Experience -->
        <ScrollReveal delay={0.3}>
          <div class="mt-[var(--space-md)] border-t border-[var(--color-border-custom)] pt-[var(--space-md)]">
            <p class="text-[var(--font-size-caption)] text-[var(--color-text-tertiary)]">
              Experience
            </p>
            <div class="mt-[var(--space-sm)] flex flex-col gap-[var(--space-sm)]">
              <div class="flex flex-col gap-1 sm:flex-row sm:justify-between sm:gap-0">
                <div>
                  <p class="font-[var(--font-weight-bold)] text-[var(--color-text-primary)]">Company Name</p>
                  <p class="text-[var(--font-size-caption)] text-[var(--color-text-secondary)]">Senior Product Designer</p>
                </div>
                <p class="text-[var(--font-size-caption)] text-[var(--color-text-tertiary)]">2024 — Present</p>
              </div>
              <div class="flex flex-col gap-1 sm:flex-row sm:justify-between sm:gap-0">
                <div>
                  <p class="font-[var(--font-weight-bold)] text-[var(--color-text-primary)]">Previous Co.</p>
                  <p class="text-[var(--font-size-caption)] text-[var(--color-text-secondary)]">Product Designer</p>
                </div>
                <p class="text-[var(--font-size-caption)] text-[var(--color-text-tertiary)]">2022 — 2024</p>
              </div>
            </div>
          </div>
        </ScrollReveal>

        {resumeHref && (
          <ScrollReveal delay={0.3}>
            <a
              href={resumeHref}
              target="_blank"
              rel="noopener noreferrer"
              class="mt-[var(--space-sm)] inline-flex items-center gap-1.5 text-[var(--font-size-caption)]"
              style="color: var(--color-text-secondary);"
            >
              View Resume
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true">
                <path d="M3.5 10.5L10.5 3.5M10.5 3.5H5.5M10.5 3.5V8.5" stroke="var(--color-text-tertiary)" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </a>
          </ScrollReveal>
        )}
      </div>
    </div>
  </section>
</Base>
